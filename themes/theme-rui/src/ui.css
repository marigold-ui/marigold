/*
 * UI Component Utilities
 *
 * This file contains utilities for styling UI components, including
 * surface styling, state variations, and elevation levels.
 */

/* ========================= */
/*    Surface & Elevation    */
/* ========================= */

/*
 * The "ui-surface" utility defines visual surfaces with distinct background colors. Apply 
 * elevation levels to them when needed.
 * 
 * This utility uses background-clip and background-origin with gradient borders
 * instead of pseudo-elements, allowing it to work on any element including <input>.
 * The gradient border transitions from top (lighter) to bottom (darker).
 */
@utility ui-surface {
  &:where(*) {
    @apply rounded-surface relative transition-[box-shadow,background];

    /* Gradient border using background-clip and background-origin */
    background:
      linear-gradient(to bottom, #fff, #fff),
      linear-gradient(
        to bottom,
        var(--color-surface-border),
        oklch(from var(--color-surface-border) calc(l - 0.1) c h)
      );
    background-clip: padding-box, border-box;
    background-origin: padding-box, border-box;

    border: 1px solid transparent;
  }
}

/*
 * Use this utility when you want to visually lift an element above the base level,
 * such as for cards, or interactive components that require emphasis. This is the 
 * lowest elevation level.
 */
@utility ui-elevation-raised {
  @apply shadow-elevation-raised;
}

/*
 * Use this utility when you want to visually lift an element above the raised level,
 * such as for dialogs, or popups. This is the highest elevation level.
 */
@utility ui-elevation-overlay {
  @apply shadow-elevation-overlay;
}

/*
 * UI elevation utilities that apply box-shadow using CSS variables.
 * These allow for consistent elevation levels across components.
 */
@utility ui-elevation-base {
  @apply shadow-elevation-base;
}

/* ========================= */
/*           State           */
/* ========================= */

/*
 * Applies a consistent visual style used for keyboard focus states across components.
 * Used this when the border of the component can be changed.
 */
@utility ui-state-focus {
  @apply ring-ring/50 border-ring ring-[3px];
}

/*
 * Applies a consistent visual style used for keyboard focus states across components.
 * Used this when the border of the component should not be changed.
 */
@utility ui-state-focus-borderless {
  @apply ring-ring/50 ring-[3px];
}

/*
 * Applies a consistent visual style for invalid elements.
 */
@utility ui-surface-error {
  @apply border-destructive focus:border-destructive focus:ring-destructive/20 shadow-destructive/10;
}

/*
 * Applies a consistent visual style when an element has an invalid child element.
 */
@utility ui-surface-has-error {
  @apply border-destructive has-focus:border-destructive has-focus:ring-destructive/20 shadow-destructive/10;
}

/*
 * Applies a consistent visual style for disabled elements.
 */
@utility ui-state-disabled {
  @apply text-disabled-foreground bg-disabled cursor-not-allowed;
}

/*
 * Applies a consistent visual style for readonly elements.
 */
@utility ui-state-readonly {
  @apply bg-muted cursor-default;
}
