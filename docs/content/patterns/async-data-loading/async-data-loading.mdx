---
title: Async Data Loading
caption: Learn how to implement async data loading patterns in interactive components.
badge: new
---

Async data loading patterns provide clear guidelines for implementing components that fetch data from remote sources. These patterns ensure consistent user experience across `<ComboBox>`, `<Autocomplete>`, and other interactive components that work with dynamic data.

## useAsyncList (Recommended)

**Best for**: Most scenarios with simple data fetching and built-in filtering.

For most async data loading scenarios, we recommend using `useAsyncList` from `@react-stately/data`. This hook is specifically designed for handling async data in lists and provides built-in loading states, error handling, and filtering capabilities.

<ComponentDemo file="./use-async-list.demo.tsx" />

`useAsyncList` handles the complexity of async data management automatically and integrates seamlessly with Marigold components. For more detailed examples and advanced usage, see our [useAsyncList documentation](/components/hooks-and-utils/useAsyncListData).

## React Query for Advanced Caching

**Best for**: Complex caching needs, request deduplication, and advanced data management. Automatically handles loading states for cached data.

React Query provides automatic caching, request deduplication, and built-in loading states for async data. Use when you need sophisticated caching strategies.

**Best for**: Applications with complex data fetching needs, background updates, and advanced caching requirements.

## Handling Empty States

Handle these common scenarios in your async components:

- **No search results**: Clear messaging with search suggestions
- **Loading states**: Show loading indicators during data fetching
- **Error states**: Provide retry options and helpful error messages
- **Empty data**: Guide users on next steps when no data exists

Both `useAsyncList` and `ComboBox`/`Autocomplete` support `emptyState` props for custom empty state content.

## Prefetching Data

Use prefetching to improve perceived performance by loading data before users explicitly request it:

**When to prefetch:**

- **On hover**: Load item details when users hover over list items
- **Pagination**: Preload next/previous pages while users view current data
- **Common user paths**: Data users are likely to need based on usage patterns
- **During idle time**: Fetch data when the browser isn't busy with user interactions

**When NOT to prefetch:**

- On slow/metered connections (respect user's data usage)
- For rarely accessed data (low probability of use)
- During high activity periods (prioritize current user actions)

**Implementation:**

- **With useAsyncList**: Use the `load` function to prefetch data based on user interactions
- **With React Query**: Use `queryClient.prefetchQuery()` for anticipated data needs

## Related

<TeaserList
  items={[
    {
      title: 'Combobox',
      href: '../../components/form/combobox',
      caption: 'Learn more about Combobox component.',
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={24}
          height={24}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth={2}
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="M12 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" />
          <path d="M18.375 2.625a2.121 2.121 0 113 3L12 15l-4 1 1-4z" />
        </svg>
      ),
    },
    {
      title: 'Autocomplete',
      href: '../../components/form/autocomplete',
      caption: 'Learn more about Autocomplete component.',
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={24}
          height={24}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth={2}
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="M12 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" />
          <path d="M18.375 2.625a2.121 2.121 0 113 3L12 15l-4 1 1-4z" />
        </svg>
      ),
    },
  ]}
/>
